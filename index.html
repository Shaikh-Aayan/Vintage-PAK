<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VintagePak Contracts | Professional Freelance Tools</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Playfair+Display:wght@700&family=Marcellus&family=Montserrat:wght@400;500;600;700&family=Raleway:wght@300;400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastify-js/1.12.0/toastify.min.js"></script>
    <style>
        :root {
            /* Light Theme */
            --primary: #8A704C;
            --primary-dark: #6B5437;
            --secondary: #4A6B5F;
            --accent: #D4A017;
            --light: #F8F4E9;
            --dark: #3C2F2D;
            --gray: #8C7B6B;
            --light-gray: #E8E0D5;
            --border: #C9B8A7;
            --success: #5D8C7B;
            --warning: #D4A017;
            --danger: #A0522D;
            --card-shadow: 0 4px 12px rgba(60, 47, 45, 0.15);
            --radius: 8px;
            --transition: all 0.3s ease;
            
            /* Text */
            --text-dark: #3C2F2D;
            --text-light: #F8F4E9;
            
            /* Backgrounds */
            --bg-primary: #F8F4E9;
            --bg-secondary: #E8E0D5;
            --bg-card: rgba(248, 244, 233, 0.9);
            
            /* Theme Specific */
            --theme-name: "classic";
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Cormorant Garamond', serif;
            --font-ui: 'Marcellus', serif;
        }
        
        .dark-mode {
            /* Dark Theme */
            --primary: #C9B8A7;
            --primary-dark: #A09080;
            --secondary: #7A9B8E;
            --accent: #E8C260;
            --light: #2D2A28;
            --dark: #E8E0D5;
            --gray: #8C7B6B;
            --light-gray: #3C3733;
            --border: #5A4D42;
            --success: #7DAE9D;
            --warning: #E8C260;
            --danger: #C1765A;
            
            /* Text */
            --text-dark: #E8E0D5;
            --text-light: #2D2A28;
            
            /* Backgrounds */
            --bg-primary: #2D2A28;
            --bg-secondary: #1E1C1A;
            --bg-card: rgba(46, 42, 39, 0.9);
        }
        
        .minimal-theme {
            --primary: #5D8C7B;
            --primary-dark: #4A6B5F;
            --accent: #7DAE9D;
            --font-heading: 'Montserrat', sans-serif;
            --font-body: 'Raleway', sans-serif;
            --font-ui: 'Montserrat', sans-serif;
            --card-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .corporate-theme {
            --primary: #2C3E50;
            --primary-dark: #1A252F;
            --accent: #3498DB;
            --font-heading: 'Montserrat', sans-serif;
            --font-body: 'Raleway', sans-serif;
            --font-ui: 'Montserrat', sans-serif;
        }
        
        .startup-theme {
            --primary: #27AE60;
            --primary-dark: #219653;
            --accent: #2D9CDB;
            --font-heading: 'Montserrat', sans-serif;
            --font-body: 'Raleway', sans-serif;
            --font-ui: 'Montserrat', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-body);
            background: var(--bg-primary);
            color: var(--text-dark);
            line-height: 1.8;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
            transition: var(--transition);
        }

        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"><rect width="200" height="200" fill="none" stroke="%23D4A017" stroke-width="0.5" stroke-opacity="0.1" stroke-dasharray="4,4"/></svg>');
            opacity: 0.1;
            pointer-events: none;
            z-index: -1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
        }

        /* Header with theme toggles */
        header {
            background: rgba(139, 107, 70, 0.9);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(5px);
            border-bottom: 2px solid var(--accent);
            box-shadow: 0 3px 10px rgba(60, 47, 45, 0.1);
        }
        
        .dark-mode header {
            background: rgba(46, 42, 39, 0.9);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--light);
            font-family: var(--font-heading);
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .dark-mode .logo {
            color: var(--dark);
        }

        .logo-icon {
            font-size: 1.5rem;
            color: var(--accent);
        }

        .header-controls {
            display: flex;
            gap: 20px;
            align-items: center;
        }
        
        .theme-toggle, .mode-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 30px;
            padding: 8px 15px;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .theme-toggle:hover, .mode-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .theme-toggle i, .mode-toggle i {
            font-size: 1.2rem;
        }
        
        .dark-mode .theme-toggle, .dark-mode .mode-toggle {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 32px;
        }

        nav a {
            text-decoration: none;
            color: var(--light-gray);
            font-weight: 500;
            transition: var(--transition);
            position: relative;
            padding: 8px 0;
            font-size: 1.15rem;
            letter-spacing: 0.5px;
            font-family: var(--font-ui);
        }

        nav a:hover, nav a.active {
            color: var(--accent);
        }

        nav a.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--accent);
            border-radius: 2px;
        }
        
        .dark-mode nav a {
            color: #C9B8A7;
        }

        /* Landing Page */
        .hero {
            padding: 120px 0 80px;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50px;
            left: -50px;
            width: 200px;
            height: 200px;
            background: linear-gradient(135deg, rgba(138, 112, 76, 0.1) 0%, rgba(107, 84, 55, 0.1) 100%);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.7;
        }

        .hero::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: -50px;
            width: 150px;
            height: 150px;
            background: linear-gradient(135deg, rgba(212, 160, 23, 0.1) 0%, rgba(107, 84, 55, 0.1) 100%);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.7;
        }

        .hero h1 {
            font-size: 3.2rem;
            margin-bottom: 25px;
            line-height: 1.2;
            font-weight: 700;
            color: var(--text-dark);
            font-family: var(--font-heading);
            position: relative;
            display: inline-block;
            padding-bottom: 15px;
        }
        
        .dark-mode .hero h1 {
            color: var(--dark);
        }

        .hero h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 3px;
            background: var(--accent);
            border-radius: 2px;
        }

        .hero p {
            font-size: 1.35rem;
            color: var(--text-dark);
            margin-bottom: 50px;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 500;
        }
        
        .dark-mode .hero p {
            color: var(--dark);
        }

        .cta-container {
            display: flex;
            gap: 24px;
            justify-content: center;
            margin-top: 40px;
        }

        .btn {
            padding: 16px 42px;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-size: 1.15rem;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            font-family: var(--font-ui);
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0.1) 100%);
            z-index: -1;
            opacity: 0;
            transition: var(--transition);
        }

        .btn:hover::before {
            opacity: 1;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--light);
            box-shadow: 0 4px 15px rgba(138, 112, 76, 0.3);
            border: 1px solid rgba(212, 160, 23, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(138, 112, 76, 0.4);
        }

        .btn-secondary {
            background: var(--light);
            color: var(--primary-dark);
            border: 1px solid var(--border);
            box-shadow: 0 4px 10px rgba(60, 47, 45, 0.1);
        }
        
        .dark-mode .btn-secondary {
            background: var(--light-gray);
            color: var(--dark);
            border-color: var(--border);
        }

        .btn-secondary:hover {
            background: var(--light-gray);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(60, 47, 45, 0.15);
            border-color: var(--primary);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 40px;
            margin: 100px 0;
        }

        .feature-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 40px 32px;
            box-shadow: var(--card-shadow);
            transition: var(--transition);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(201, 184, 167, 0.5);
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .dark-mode .feature-card {
            border-color: rgba(90, 77, 66, 0.5);
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(60, 47, 45, 0.15);
            border-color: var(--primary);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, rgba(138, 112, 76, 0.1) 0%, rgba(107, 84, 55, 0.1) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            border: 2px solid var(--accent);
        }
        
        .dark-mode .feature-icon {
            background: linear-gradient(135deg, rgba(201, 184, 167, 0.1) 0%, rgba(160, 144, 128, 0.1) 100%);
        }

        .feature-icon i {
            font-size: 32px;
            color: var(--primary-dark);
        }

        .feature-card h3 {
            margin-bottom: 15px;
            font-size: 1.7rem;
            color: var(--text-dark);
            font-family: var(--font-heading);
            position: relative;
            padding-bottom: 10px;
        }
        
        .dark-mode .feature-card h3 {
            color: var(--dark);
        }

        .feature-card h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 2px;
            background: var(--accent);
            border-radius: 2px;
        }

        .feature-card p {
            color: var(--text-dark);
            font-size: 1.15rem;
            font-weight: 500;
        }
        
        .dark-mode .feature-card p {
            color: var(--dark);
        }

        /* Module Containers */
        .module-container {
            display: none;
            padding: 80px 0;
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 50px;
            flex-wrap: wrap;
            gap: 20px;
            position: relative;
            padding-bottom: 20px;
        }

        .module-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 2px;
        }

        .module-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-dark);
            font-family: var(--font-heading);
            position: relative;
            display: inline-block;
        }
        
        .dark-mode .module-title {
            color: var(--accent);
        }

        .module-title::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 80px;
            height: 3px;
            background: var(--accent);
            border-radius: 2px;
        }

        .module-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 50px;
        }

        @media (min-width: 992px) {
            .module-content {
                grid-template-columns: 1fr 1fr;
            }
        }

        .form-container, .preview-container {
            background: var(--bg-card);
            border-radius: var(--radius);
            padding: 40px;
            box-shadow: var(--card-shadow);
            backdrop-filter: blur(5px);
            border: 1px solid rgba(201, 184, 167, 0.7);
            position: relative;
        }
        
        .dark-mode .form-container, 
        .dark-mode .preview-container {
            border-color: rgba(90, 77, 66, 0.7);
        }

        .form-container {
            position: sticky;
            top: 120px;
            height: fit-content;
        }

        .form-container::before, .preview-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: var(--radius) var(--radius) 0 0;
        }

        .form-group {
            margin-bottom: 30px;
            position: relative;
        }

        label {
            display: block;
            margin-bottom: 12px;
            font-weight: 600;
            color: var(--text-dark);
            font-size: 1.1rem;
            font-family: var(--font-ui);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .dark-mode label {
            color: var(--dark);
        }

        input, textarea, select {
            width: 100%;
            padding: 15px 20px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            font-family: var(--font-body);
            font-size: 1.1rem;
            transition: var(--transition);
            background: rgba(255, 255, 255, 0.5);
            color: var(--text-dark);
        }
        
        .dark-mode input, 
        .dark-mode textarea, 
        .dark-mode select {
            background: rgba(255, 255, 255, 0.1);
            border-color: var(--border);
            color: var(--dark);
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(138, 112, 76, 0.2);
        }
        
        .dark-mode input:focus, 
        .dark-mode textarea:focus, 
        .dark-mode select:focus {
            box-shadow: 0 0 0 3px rgba(201, 184, 167, 0.2);
        }

        textarea {
            min-height: 150px;
            resize: vertical;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        .action-buttons {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            margin-top: 35px;
        }

        .action-btn {
            padding: 14px 28px;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--border);
            background: var(--light);
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-size: 1.05rem;
            font-family: var(--font-ui);
            color: var(--text-dark);
        }
        
        .dark-mode .action-btn {
            background: var(--light-gray);
            color: var(--dark);
        }

        .action-btn.primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--light);
            border: none;
        }

        .action-btn.primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 15px rgba(138, 112, 76, 0.3);
        }

        .action-btn:hover {
            background: var(--light-gray);
            transform: translateY(-3px);
            border-color: var(--primary);
        }
        
        .dark-mode .action-btn:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        /* Contract Preview */
        .contract-preview {
            font-family: var(--font-body);
            line-height: 1.8;
            padding: 40px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--card-shadow);
            position: relative;
        }
        
        .dark-mode .contract-preview {
            border-color: var(--border);
        }

        .contract-preview::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: var(--radius) var(--radius) 0 0;
        }

        .contract-preview h1 {
            text-align: center;
            margin-bottom: 40px;
            font-size: 2rem;
            color: var(--primary-dark);
            font-weight: 700;
            font-family: var(--font-heading);
            position: relative;
            padding-bottom: 15px;
        }
        
        .dark-mode .contract-preview h1 {
            color: var(--accent);
        }

        .contract-preview h1::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: var(--accent);
            border-radius: 2px;
        }

        .contract-preview h2 {
            font-size: 1.5rem;
            margin: 35px 0 20px;
            color: var(--primary-dark);
            padding-bottom: 8px;
            border-bottom: 1px solid var(--light-gray);
            font-family: var(--font-heading);
        }
        
        .dark-mode .contract-preview h2 {
            color: var(--accent);
            border-color: var(--light-gray);
        }

        .contract-preview p {
            margin-bottom: 20px;
            font-size: 1.15rem;
        }
        
        .dark-mode .contract-preview p {
            color: var(--dark);
        }

        .contract-signature {
            margin-top: 70px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 50px;
        }

        .contract-signature div {
            position: relative;
            padding-top: 40px;
        }

        .contract-signature div::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: var(--border);
        }
        
        .signature-image {
            max-width: 200px;
            max-height: 80px;
            display: block;
            margin-top: 10px;
            border: 1px solid var(--border);
            padding: 5px;
            background: white;
        }

        .contract-disclaimer {
            margin-top: 50px;
            padding: 20px;
            background: rgba(160, 82, 45, 0.08);
            border-radius: var(--radius);
            border-left: 4px solid var(--danger);
            font-size: 1rem;
        }
        
        .dark-mode .contract-disclaimer {
            background: rgba(193, 118, 90, 0.1);
        }

        /* Invoice Preview */
        .invoice-preview {
            font-family: var(--font-body);
            padding: 40px;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            box-shadow: var(--card-shadow);
            position: relative;
        }
        
        .dark-mode .invoice-preview {
            border-color: var(--border);
        }

        .invoice-preview::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: var(--radius) var(--radius) 0 0;
        }

        .invoice-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 50px;
            flex-wrap: wrap;
            gap: 20px;
        }

        .invoice-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-dark);
            position: relative;
            display: inline-block;
            font-family: var(--font-heading);
        }
        
        .dark-mode .invoice-title {
            color: var(--accent);
        }

        .invoice-title::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 60px;
            height: 4px;
            background: var(--accent);
            border-radius: 2px;
        }

        .invoice-meta {
            text-align: right;
        }

        .invoice-meta p {
            margin-bottom: 8px;
            font-size: 1.1rem;
        }
        
        .dark-mode .invoice-meta p {
            color: var(--dark);
        }

        .invoice-addresses {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            margin-bottom: 50px;
        }

        .invoice-address {
            background: rgba(232, 224, 213, 0.5);
            padding: 25px;
            border-radius: var(--radius);
            border: 1px solid rgba(201, 184, 167, 0.5);
        }
        
        .dark-mode .invoice-address {
            background: rgba(62, 56, 50, 0.5);
            border-color: rgba(90, 77, 66, 0.5);
        }

        .invoice-address h3 {
            margin-bottom: 18px;
            font-size: 1.3rem;
            color: var(--primary-dark);
            font-family: var(--font-heading);
            position: relative;
            padding-bottom: 8px;
        }
        
        .dark-mode .invoice-address h3 {
            color: var(--accent);
        }

        .invoice-address h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background: var(--accent);
            border-radius: 2px;
        }

        .invoice-table {
            width: 100%;
            border-collapse: collapse;
            margin: 40px 0;
            font-size: 1.1rem;
        }

        .invoice-table th {
            text-align: left;
            padding: 16px;
            background: rgba(232, 224, 213, 0.5);
            border-bottom: 1px solid var(--border);
            font-weight: 600;
            font-family: var(--font-ui);
        }
        
        .dark-mode .invoice-table th {
            background: rgba(62, 56, 50, 0.5);
            border-color: var(--border);
        }

        .invoice-table td {
            padding: 16px;
            border-bottom: 1px solid var(--border);
        }
        
        .dark-mode .invoice-table td {
            border-color: var(--border);
        }

        .invoice-total {
            text-align: right;
            margin: 50px 0;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--primary-dark);
            font-family: var(--font-heading);
        }
        
        .dark-mode .invoice-total {
            color: var(--accent);
        }

        .invoice-payment {
            background: rgba(232, 224, 213, 0.5);
            padding: 35px;
            border-radius: var(--radius);
            border: 1px solid rgba(201, 184, 167, 0.5);
        }
        
        .dark-mode .invoice-payment {
            background: rgba(62, 56, 50, 0.5);
            border-color: rgba(90, 77, 66, 0.5);
        }

        .invoice-payment h3 {
            margin-bottom: 18px;
            font-size: 1.4rem;
            color: var(--primary-dark);
            font-family: var(--font-heading);
            position: relative;
            padding-bottom: 8px;
        }
        
        .dark-mode .invoice-payment h3 {
            color: var(--accent);
        }

        .invoice-payment h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 2px;
            background: var(--accent);
            border-radius: 2px;
        }

        /* Footer */
        footer {
            background: var(--dark);
            color: var(--light-gray);
            padding: 80px 0 40px;
            margin-top: 100px;
            position: relative;
        }
        
        .dark-mode footer {
            background: var(--bg-secondary);
            color: var(--dark);
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 60px;
        }

        .footer-section h3 {
            font-size: 1.5rem;
            margin-bottom: 25px;
            position: relative;
            padding-bottom: 18px;
            font-weight: 700;
            font-family: var(--font-heading);
            color: var(--light);
        }
        
        .dark-mode .footer-section h3 {
            color: var(--dark);
        }

        .footer-section h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 3px;
            background: var(--accent);
            border-radius: 2px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 18px;
        }

        .footer-links a {
            color: #C9B8A7;
            text-decoration: none;
            transition: var(--transition);
            font-size: 1.15rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .dark-mode .footer-links a {
            color: var(--gray);
        }

        .footer-links a:hover {
            color: var(--accent);
            transform: translateX(5px);
        }

        .copyright {
            text-align: center;
            padding-top: 60px;
            color: #C9B8A7;
            font-size: 1.1rem;
            margin-top: 40px;
            position: relative;
        }
        
        .dark-mode .copyright {
            color: var(--gray);
        }

        .copyright::before {
            content: '';
            position: absolute;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 1px;
            background: rgba(201, 184, 167, 0.3);
        }
        
        .dark-mode .copyright::before {
            background: rgba(140, 123, 107, 0.3);
        }

        .creator {
            text-align: center;
            margin-top: 20px;
            font-size: 1.15rem;
            color: #C9B8A7;
        }
        
        .dark-mode .creator {
            color: var(--gray);
        }

        .creator a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            font-family: var(--font-ui);
        }

        .creator a:hover {
            color: var(--light);
            text-decoration: underline;
        }
        
        .dark-mode .creator a:hover {
            color: var(--dark);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero {
                padding: 80px 0 50px;
            }
            
            .hero h1 {
                font-size: 2.8rem;
            }
            
            .cta-container {
                flex-direction: column;
                gap: 16px;
            }
            
            .input-row {
                grid-template-columns: 1fr;
            }
            
            .contract-signature, .invoice-addresses {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .invoice-header {
                flex-direction: column;
                gap: 25px;
            }
            
            .invoice-meta {
                text-align: left;
            }
            
            .module-title {
                font-size: 2rem;
            }
            
            .footer-container {
                gap: 40px;
            }
            
            .header-controls {
                display: none;
            }
        }

        /* Print styles */
        @media print {
            header, .form-container, .action-buttons, .back-to-home, footer {
                display: none !important;
            }
            
            body, .container, .preview-container {
                padding: 0;
                margin: 0;
            }
            
            .contract-preview, .invoice-preview {
                box-shadow: none;
                border: none;
                padding: 0;
            }
            
            .section-divider, .vintage-border {
                display: none;
            }
        }
        
        .legal-warning {
            background: rgba(160, 82, 45, 0.08);
            padding: 15px;
            border-radius: var(--radius);
            border-left: 4px solid var(--danger);
            margin: 20px 0;
            font-size: 0.95rem;
        }
        
        .dark-mode .legal-warning {
            background: rgba(193, 118, 90, 0.1);
        }
        
        /* Invoice Items */
        .invoice-item {
            background: rgba(232, 224, 213, 0.3);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
            cursor: move;
        }
        
        .dark-mode .invoice-item {
            background: rgba(62, 56, 50, 0.3);
            border-color: var(--border);
        }
        
        .invoice-item-handle {
            position: absolute;
            top: 10px;
            left: 10px;
            cursor: move;
            color: var(--gray);
        }
        
        .remove-item {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        
        .template-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .template-btn {
            padding: 10px 20px;
            border-radius: var(--radius);
            background: var(--light-gray);
            border: 1px solid var(--border);
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
        }
        
        .dark-mode .template-btn {
            background: var(--light-gray);
            color: var(--dark);
        }
        
        .template-btn:hover {
            background: var(--primary);
            color: var(--light);
        }
        
        /* Error messages */
        .error-message {
            color: var(--danger);
            font-size: 0.9rem;
            margin-top: 5px;
            display: none;
        }
        
        /* JSON Drop Zone */
        .drop-zone {
            border: 2px dashed var(--border);
            border-radius: var(--radius);
            padding: 30px;
            text-align: center;
            margin-top: 20px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .drop-zone:hover {
            border-color: var(--primary);
            background: rgba(138, 112, 76, 0.05);
        }
        
        .drop-zone i {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        /* Feedback Button */
        .feedback-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            cursor: pointer;
            font-size: 1.5rem;
            transition: var(--transition);
        }
        
        .feedback-btn:hover {
            transform: translateY(-5px);
            background: var(--primary-dark);
        }
        
        /* Clause Toggles */
        .clause-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .clause-toggle input {
            width: auto;
        }
        
        /* Signature Upload */
        .signature-upload {
            margin-top: 10px;
        }
        
        /* Client Mode */
        .client-mode .form-container,
        .client-mode .action-buttons,
        .client-mode .module-header .btn {
            display: none;
        }
        
        .client-mode .module-content {
            grid-template-columns: 1fr;
            max-width: 900px;
            margin: 0 auto;
        }
        
        .client-mode .preview-container {
            width: 100%;
        }
        
        /* Template Selector */
        .template-selector {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }
        
        .template-option {
            padding: 8px 15px;
            border: 1px solid var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .template-option.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        /* Smart Suggestions */
        .suggestion-box {
            background: rgba(93, 140, 123, 0.1);
            border-left: 3px solid var(--success);
            padding: 15px;
            border-radius: 0 var(--radius) var(--radius) 0;
            margin-top: 10px;
            display: none;
        }
        
        .suggestion-box p {
            margin-bottom: 10px;
        }
        
        .use-suggestion {
            background: transparent;
            border: 1px solid var(--success);
            color: var(--success);
            padding: 5px 10px;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }
        
        .use-suggestion:hover {
            background: var(--success);
            color: white;
        }
    </style>
</head>
<body>
    <!-- Feedback Button -->
    <div class="feedback-btn" id="feedback-btn">
        <i class="fas fa-comment"></i>
    </div>
    
    <header>
        <div class="container header-container">
            <div class="logo">
                <i class="fas fa-file-contract logo-icon"></i>
                VintagePak Contracts
            </div>
            
            <div class="header-controls">
                <div class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-palette"></i>
                    <span>Theme</span>
                </div>
                
                <div class="mode-toggle" id="mode-toggle">
                    <i class="fas fa-moon"></i>
                    <span>Dark Mode</span>
                </div>
            </div>
            
            <nav>
                <ul>
                    <li><a href="#" class="active" data-section="home">Home</a></li>
                    <li><a href="#" data-section="contract">Contract</a></li>
                    <li><a href="#" data-section="invoice">Invoice</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container">
        <!-- Landing Page -->
        <section id="home" class="section active">
            <div class="hero">
                <h1>Professional Contracts & Invoices</h1>
                <p>Create legally sound agreements with a touch of vintage elegance. Professional templates designed for freelancers.</p>
                <div class="cta-container">
                    <button class="btn btn-primary" data-section="contract">
                        <i class="fas fa-file-contract"></i>
                        Create Contract
                    </button>
                    <button class="btn btn-secondary" data-section="invoice">
                        <i class="fas fa-file-invoice-dollar"></i>
                        Generate Invoice
                    </button>
                </div>
            </div>

            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-gavel"></i>
                    </div>
                    <h3>Legally Sound Agreements</h3>
                    <p>Professionally crafted contracts with clear terms and conditions for freelance projects.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-file-invoice"></i>
                    </div>
                    <h3>Professional Invoicing</h3>
                    <p>Create detailed invoices with clear payment terms and breakdowns for your clients.</p>
                </div>

                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h3>Data Privacy</h3>
                    <p>Your information remains private with locally processed data. We don't store your sensitive information.</p>
                </div>
            </div>
        </section>

        <!-- Contract Generator Module -->
        <section id="contract" class="section module-container">
            <div class="module-header">
                <h2 class="module-title">Contract Generator</h2>
                <div>
                    <button class="btn btn-secondary back-to-home">
                        <i class="fas fa-arrow-left"></i>
                        Back to Home
                    </button>
                    <button class="btn btn-secondary" id="client-mode-toggle">
                        <i class="fas fa-user-tie"></i>
                        Client Mode
                    </button>
                </div>
            </div>
            
            <div class="template-selector">
                <div class="template-option active" data-theme="classic">Classic</div>
                <div class="template-option" data-theme="minimal">Minimal</div>
                <div class="template-option" data-theme="corporate">Corporate</div>
                <div class="template-option" data-theme="startup">Startup</div>
            </div>

            <div class="module-content">
                <div class="form-container">
                    <h3>Contract Details</h3>
                    <div class="legal-warning">
                        <p><strong>Disclaimer:</strong> This tool provides templates only. We are not responsible for legal accuracy. Consult a professional for legal advice.</p>
                    </div>
                    <form id="contract-form">
                        <div class="currency-toggle">
                            <span>Currency:</span>
                            <button type="button" class="currency-btn active" data-currency="PKR">PKR</button>
                            <button type="button" class="currency-btn" data-currency="USD">USD</button>
                            <button type="button" class="currency-btn" data-currency="EUR">EUR</button>
                            <button type="button" class="currency-btn" data-currency="GBP">GBP</button>
                            <button type="button" class="currency-btn" data-currency="INR">INR</button>
                        </div>
                        
                        <div class="form-group">
                            <label for="freelancer-name"><i class="fas fa-user"></i> Freelancer Full Name</label>
                            <input type="text" id="freelancer-name" placeholder="e.g. Ali Ahmed" required>
                            <div class="error-message" id="freelancer-name-error">This field is required</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="freelancer-address"><i class="fas fa-map-marker-alt"></i> Freelancer Address</label>
                            <textarea id="freelancer-address" placeholder="Your full address..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="client-name"><i class="fas fa-building"></i> Client Full Name</label>
                            <input type="text" id="client-name" placeholder="e.g. ABC Company" required>
                            <div class="error-message" id="client-name-error">This field is required</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="client-address"><i class="fas fa-map-marker-alt"></i> Client Address</label>
                            <textarea id="client-address" placeholder="Client's full address..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="project-title"><i class="fas fa-tasks"></i> Project Title</label>
                            <input type="text" id="project-title" placeholder="e.g. Website Development" required>
                            <div class="error-message" id="project-title-error">This field is required</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="project-desc"><i class="fas fa-file-alt"></i> Project Description</label>
                            <textarea id="project-desc" placeholder="Describe the project scope and deliverables..." required></textarea>
                            <div class="error-message" id="project-desc-error">This field is required</div>
                        </div>
                        
                        <div class="input-row">
                            <div class="form-group">
                                <label for="start-date"><i class="fas fa-calendar-alt"></i> Start Date</label>
                                <input type="date" id="start-date" required>
                                <div class="error-message" id="start-date-error">This field is required</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="end-date"><i class="fas fa-calendar-alt"></i> End Date</label>
                                <input type="date" id="end-date" required>
                                <div class="error-message" id="end-date-error">This field is required</div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="payment-type"><i class="fas fa-money-bill-wave"></i> Payment Type</label>
                            <select id="payment-type" required>
                                <option value="">Select payment type</option>
                                <option value="hourly">Hourly Rate</option>
                                <option value="fixed">Fixed Price</option>
                            </select>
                            <div class="error-message" id="payment-type-error">This field is required</div>
                        </div>
                        
                        <div class="input-row">
                            <div class="form-group" id="rate-group">
                                <label for="rate"><i class="fas fa-coins"></i> Rate</label>
                                <input type="number" id="rate" placeholder="e.g. 5000" required>
                                <div class="error-message" id="rate-error">This field is required</div>
                            </div>
                            
                            <div class="form-group" id="hours-group" style="display: none;">
                                <label for="hours"><i class="fas fa-clock"></i> Total Hours</label>
                                <input type="number" id="hours" placeholder="e.g. 40">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="payment-terms"><i class="fas fa-file-invoice"></i> Payment Terms</label>
                            <textarea id="payment-terms"></textarea>
                            <div class="suggestion-box" id="payment-suggestion">
                                <p>Based on your payment type, we recommend:</p>
                                <p id="suggestion-text"></p>
                                <button type="button" class="use-suggestion" id="use-suggestion">Use This</button>
                            </div>
                        </div>
                        
                        <h3>Optional Clauses</h3>
                        <div class="clause-toggle">
                            <input type="checkbox" id="nda-clause">
                            <label for="nda-clause">Include NDA Clause</label>
                        </div>
                        
                        <div class="clause-toggle">
                            <input type="checkbox" id="revision-clause">
                            <label for="revision-clause">Include Revision Policy</label>
                        </div>
                        
                        <div class="clause-toggle">
                            <input type="checkbox" id="termination-clause">
                            <label for="termination-clause">Include Termination Clause</label>
                        </div>
                        
                        <div class="clause-toggle">
                            <input type="checkbox" id="arbitration-clause">
                            <label for="arbitration-clause">Include Arbitration Clause</label>
                        </div>
                        
                        <div class="input-row">
                            <div class="form-group">
                                <label for="freelancer-signature"><i class="fas fa-signature"></i> Freelancer Signature</label>
                                <input type="text" id="freelancer-signature" placeholder="Full name for signature">
                                <div class="signature-upload">
                                    <label for="freelancer-signature-upload" class="action-btn">
                                        <i class="fas fa-upload"></i> Upload Signature
                                    </label>
                                    <input type="file" id="freelancer-signature-upload" accept="image/*" style="display: none;">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="client-signature"><i class="fas fa-signature"></i> Client Signature</label>
                                <input type="text" id="client-signature" placeholder="Full name for signature">
                                <div class="signature-upload">
                                    <label for="client-signature-upload" class="action-btn">
                                        <i class="fas fa-upload"></i> Upload Signature
                                    </label>
                                    <input type="file" id="client-signature-upload" accept="image/*" style="display: none;">
                                </div>
                            </div>
                        </div>
                        
                        <div class="save-toggle">
                            <input type="checkbox" id="save-contract" checked>
                            <label for="save-contract">Save my information for next time</label>
                        </div>
                        
                        <div class="template-actions">
                            <button type="button" class="template-btn" id="export-contract-json">
                                <i class="fas fa-file-export"></i> Export as JSON
                            </button>
                            <button type="button" class="template-btn" id="import-contract-json">
                                <i class="fas fa-file-import"></i> Import JSON
                            </button>
                        </div>
                        
                        <div class="drop-zone" id="contract-drop-zone">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Drag & Drop your JSON file here</p>
                            <p class="small">or click to browse</p>
                        </div>
                    </form>
                </div>
                
                <div class="preview-container">
                    <h3>Contract Preview</h3>
                    <div class="contract-preview" id="contract-preview">
                        <h1 id="preview-project-title">Freelance Service Agreement</h1>
                        
                        <p><strong>This Agreement</strong> is made effective from <span id="preview-start-date">[Start Date]</span> between:</p>
                        
                        <p><strong id="preview-freelancer-name">[Freelancer Name]</strong> ("Freelancer")<br>
                        <span id="preview-freelancer-address">[Freelancer Address]</span></p>
                        
                        <p>and</p>
                        
                        <p><strong id="preview-client-name">[Client Name]</strong> ("Client")<br>
                        <span id="preview-client-address">[Client Address]</span></p>
                        
                        <h2>1. Project Description</h2>
                        <p id="preview-project-desc">[Project description will appear here]</p>
                        
                        <h2>2. Project Duration</h2>
                        <p>This agreement shall commence on <span id="preview-start-date2">[Start Date]</span> and shall continue until <span id="preview-end-date">[End Date]</span> unless terminated earlier as per Clause 6.</p>
                        
                        <h2>3. Compensation</h2>
                        <p id="preview-payment-details">[Payment details will appear here]</p>
                        
                        <h2>4. Payment Terms</h2>
                        <p id="preview-payment-terms">[Payment terms will appear here]</p>
                        
                        <div id="optional-clauses">
                            <!-- Optional clauses will be injected here -->
                        </div>
                        
                        <h2>5. Intellectual Property</h2>
                        <p>All work product created by Freelancer for Client shall be the sole and exclusive property of Client upon full payment. Until payment is received in full, Freelancer retains ownership.</p>
                        
                        <h2>6. Termination</h2>
                        <p>Either party may terminate this agreement with 14 days written notice. Upon termination, Client shall pay Freelancer for all services rendered up to the termination date.</p>
                        
                        <h2>7. Confidentiality</h2>
                        <p>Freelancer agrees not to disclose any confidential information received from Client to any third party during or after the term of this agreement.</p>
                        
                        <h2>8. Governing Law</h2>
                        <p>This agreement shall be governed by and construed in accordance with the laws of Pakistan. Any disputes shall be subject to the exclusive jurisdiction of the courts of Pakistan.</p>
                        
                        <div class="contract-signature">
                            <div>
                                <p>_________________________</p>
                                <div id="preview-freelancer-signature">
                                    <p>[Freelancer Name]</p>
                                </div>
                                <p>Freelancer</p>
                                <p>Date: _______________</p>
                            </div>
                            
                            <div>
                                <p>_________________________</p>
                                <div id="preview-client-signature">
                                    <p>[Client Name]</p>
                                </div>
                                <p>Client</p>
                                <p>Date: _______________</p>
                            </div>
                        </div>
                        
                        <div class="contract-disclaimer">
                            <p><strong>Important Disclaimer:</strong> This contract is provided as a template for informational purposes only and does not constitute legal advice. While designed to comply with Pakistani laws, it may not cover all specific circumstances. VintagePak Contracts is not responsible for any legal disputes. Parties are advised to consult with a qualified legal professional before signing any legally binding agreement.</p>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn primary" id="copy-contract">
                            <i class="fas fa-copy"></i>
                            Copy to Clipboard
                        </button>
                        <button class="action-btn" id="print-contract">
                            <i class="fas fa-print"></i>
                            Print
                        </button>
                        <button class="action-btn" id="pdf-contract">
                            <i class="fas fa-file-pdf"></i>
                            Save as PDF
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Invoice Generator Module -->
        <section id="invoice" class="section module-container">
            <div class="module-header">
                <h2 class="module-title">Invoice Generator</h2>
                <div>
                    <button class="btn btn-secondary back-to-home">
                        <i class="fas fa-arrow-left"></i>
                        Back to Home
                    </button>
                    <button class="btn btn-secondary" id="client-mode-toggle-invoice">
                        <i class="fas fa-user-tie"></i>
                        Client Mode
                    </button>
                </div>
            </div>
            
            <div class="template-selector">
                <div class="template-option active" data-theme="classic">Classic</div>
                <div class="template-option" data-theme="minimal">Minimal</div>
                <div class="template-option" data-theme="corporate">Corporate</div>
                <div class="template-option" data-theme="startup">Startup</div>
            </div>

            <div class="module-content">
                <div class="form-container">
                    <h3>Invoice Details</h3>
                    <div class="legal-warning">
                        <p><strong>Disclaimer:</strong> This tool generates invoices only. We are not responsible for financial accuracy. Verify all details before sending.</p>
                    </div>
                    <form id="invoice-form">
                        <div class="currency-toggle">
                            <span>Currency:</span>
                            <button type="button" class="currency-btn active" data-currency="PKR">PKR</button>
                            <button type="button" class="currency-btn" data-currency="USD">USD</button>
                            <button type="button" class="currency-btn" data-currency="EUR">EUR</button>
                            <button type="button" class="currency-btn" data-currency="GBP">GBP</button>
                            <button type="button" class="currency-btn" data-currency="INR">INR</button>
                        </div>
                        
                        <div class="form-group">
                            <label for="your-name"><i class="fas fa-user"></i> Your Name / Business Name</label>
                            <input type="text" id="your-name" placeholder="e.g. Ali Ahmed" required>
                            <div class="error-message" id="your-name-error">This field is required</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="your-address"><i class="fas fa-map-marker-alt"></i> Your Address</label>
                            <textarea id="your-address" placeholder="Your full address..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="invoice-client"><i class="fas fa-building"></i> Client Name</label>
                            <input type="text" id="invoice-client" placeholder="e.g. ABC Company" required>
                            <div class="error-message" id="invoice-client-error">This field is required</div>
                        </div>
                        
                        <div class="form-group">
                            <label for="client-address-invoice"><i class="fas fa-map-marker-alt"></i> Client Address</label>
                            <textarea id="client-address-invoice" placeholder="Client's full address..."></textarea>
                        </div>
                        
                        <div class="input-row">
                            <div class="form-group">
                                <label for="invoice-number"><i class="fas fa-hashtag"></i> Invoice Number</label>
                                <input type="text" id="invoice-number" placeholder="e.g. INV-001" value="INV-001" required>
                                <div class="error-message" id="invoice-number-error">This field is required</div>
                            </div>
                            
                            <div class="form-group">
                                <label for="invoice-date"><i class="fas fa-calendar"></i> Issue Date</label>
                                <input type="date" id="invoice-date" required>
                                <div class="error-message" id="invoice-date-error">This field is required</div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="due-date"><i class="fas fa-clock"></i> Due Date</label>
                            <input type="date" id="due-date" required>
                            <div class="error-message" id="due-date-error">This field is required</div>
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-tasks"></i> Invoice Items</label>
                            <div id="invoice-items" class="sortable-container">
                                <div class="invoice-item">
                                    <i class="fas fa-grip-lines invoice-item-handle"></i>
                                    <button class="remove-item"><i class="fas fa-times"></i></button>
                                    <div class="form-group">
                                        <label>Description</label>
                                        <textarea class="item-desc" placeholder="Item description...">Website development services</textarea>
                                    </div>
                                    <div class="input-row">
                                        <div class="form-group">
                                            <label>Quantity</label>
                                            <input type="number" class="item-quantity" placeholder="Qty" value="1">
                                        </div>
                                        <div class="form-group">
                                            <label>Rate</label>
                                            <input type="number" class="item-rate" placeholder="Rate" value="5000">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button type="button" class="btn btn-secondary" id="add-item">
                                <i class="fas fa-plus"></i> Add Item
                            </button>
                        </div>
                        
                        <div class="form-group">
                            <label for="payment-details"><i class="fas fa-university"></i> Payment Details</label>
                            <textarea id="payment-details">Bank Name: Meezan Bank
Account Title: Ali Ahmed
Account Number: 1234-5678901234
IBAN: PK36MEZN0001234567890123

For JazzCash/Easypaisa:
0312-3456789 (Ali Ahmed)</textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="logo-upload"><i class="fas fa-image"></i> Add Logo (optional)</label>
                            <input type="file" id="logo-upload" accept="image/*">
                        </div>
                        
                        <div class="save-toggle">
                            <input type="checkbox" id="save-invoice" checked>
                            <label for="save-invoice">Save my information for next time</label>
                        </div>
                        
                        <div class="template-actions">
                            <button type="button" class="template-btn" id="export-invoice-json">
                                <i class="fas fa-file-export"></i> Export as JSON
                            </button>
                            <button type="button" class="template-btn" id="import-invoice-json">
                                <i class="fas fa-file-import"></i> Import JSON
                            </button>
                        </div>
                        
                        <div class="drop-zone" id="invoice-drop-zone">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Drag & Drop your JSON file here</p>
                            <p class="small">or click to browse</p>
                        </div>
                    </form>
                </div>
                
                <div class="preview-container">
                    <h3>Invoice Preview</h3>
                    <div class="invoice-preview" id="invoice-preview">
                        <div class="invoice-header">
                            <div>
                                <h1 class="invoice-title">INVOICE</h1>
                                <div id="invoice-logo"></div>
                            </div>
                            <div class="invoice-meta">
                                <p><strong>Invoice #:</strong> <span id="preview-invoice-number">INV-001</span></p>
                                <p><strong>Date:</strong> <span id="preview-invoice-date">[Date]</span></p>
                                <p><strong>Due Date:</strong> <span id="preview-due-date">[Due Date]</span></p>
                            </div>
                        </div>
                        
                        <div class="invoice-addresses">
                            <div class="invoice-address">
                                <h3>From:</h3>
                                <p id="preview-your-name">[Your Name]</p>
                                <p id="preview-your-address">[Your Address]</p>
                            </div>
                            
                            <div class="invoice-address">
                                <h3>To:</h3>
                                <p id="preview-invoice-client">[Client Name]</p>
                                <p id="preview-client-address">[Client Address]</p>
                            </div>
                        </div>
                        
                        <table class="invoice-table">
                            <thead>
                                <tr>
                                    <th>Description</th>
                                    <th>Quantity</th>
                                    <th>Rate</th>
                                    <th>Total</th>
                                </tr>
                            </thead>
                            <tbody id="preview-invoice-items">
                                <!-- Items will be generated here -->
                            </tbody>
                        </table>
                        
                        <div class="invoice-total">
                            <p>Total Amount Due: <strong id="preview-total-amount">0.00 PKR</strong></p>
                        </div>
                        
                        <div class="invoice-payment">
                            <h3>Payment Information</h3>
                            <p id="preview-payment-info">[Payment details will appear here]</p>
                        </div>
                        
                        <div class="contract-disclaimer" style="margin-top: 30px;">
                            <p><strong>Important Disclaimer:</strong> This invoice is generated for informational purposes. VintagePak Contracts is not responsible for any discrepancies or legal issues arising from its use. Always ensure the accuracy of the information before sending to clients.</p>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="action-btn primary" id="download-invoice">
                            <i class="fas fa-download"></i>
                            Download PDF
                        </button>
                        <button class="action-btn" id="print-invoice">
                            <i class="fas fa-print"></i>
                            Print
                        </button>
                        <button class="action-btn" id="copy-invoice">
                            <i class="fas fa-copy"></i>
                            Copy Invoice Text
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container footer-container">
            <div class="footer-section">
                <h3>VintagePak Contracts</h3>
                <p>Professional tools for freelancers with a touch of vintage elegance.</p>
            </div>
            
            <div class="footer-section">
                <h3>Resources</h3>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-file-contract"></i> Contract Templates</a></li>
                    <li><a href="#"><i class="fas fa-file-invoice"></i> Invoice Templates</a></li>
                    <li><a href="#"><i class="fas fa-book"></i> Freelancer Resources</a></li>
                    <li><a href="#"><i class="fas fa-calculator"></i> Rate Calculator</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Legal</h3>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-gavel"></i> Terms of Service</a></li>
                    <li><a href="#"><i class="fas fa-shield-alt"></i> Privacy Policy</a></li>
                    <li><a href="#"><i class="fas fa-exclamation-circle"></i> Disclaimer</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Connect</h3>
                <ul class="footer-links">
                    <li><a href="#"><i class="fab fa-twitter"></i> Twitter</a></li>
                    <li><a href="#"><i class="fab fa-facebook"></i> Facebook</a></li>
                    <li><a href="#"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
                    <li><a href="#"><i class="fab fa-instagram"></i> Instagram</a></li>
                </ul>
            </div>
        </div>
        
        <div class="container">
            <div class="copyright">
                &copy; 2023 VintagePak Contracts. All rights reserved.
            </div>
            <div class="creator">
                Crafted with <i class="fas fa-heart" style="color: var(--accent);"></i> by <a href="https://www.linkedin.com/in/aayanshaikhacca/" target="_blank">Aayan Shaikh</a>
            </div>
        </div>
    </footer>
    
    <!-- Feedback Modal -->
    <div id="feedback-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 2000; align-items: center; justify-content: center;">
        <div style="background: var(--bg-card); border-radius: var(--radius); padding: 30px; width: 90%; max-width: 500px; position: relative;">
            <button id="close-feedback" style="position: absolute; top: 15px; right: 15px; background: none; border: none; font-size: 1.5rem; cursor: pointer;">&times;</button>
            <h2 style="margin-bottom: 20px; font-family: var(--font-heading);">Send Feedback</h2>
            <p style="margin-bottom: 20px;">We'd love to hear your thoughts about VintagePak Contracts!</p>
            <a href="mailto:feedback@vintagepak.com" class="btn btn-primary" style="display: inline-block; margin-right: 15px;">
                <i class="fas fa-envelope"></i> Email Us
            </a>
            <a href="https://forms.gle/example" target="_blank" class="btn btn-secondary">
                <i class="fas fa-form"></i> Feedback Form
            </a>
        </div>
    </div>

    <script>
        // Navigation and Section Switching
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Sortable for invoice items
            const invoiceItems = document.getElementById('invoice-items');
            if (invoiceItems) {
                new Sortable(invoiceItems, {
                    handle: '.invoice-item-handle',
                    animation: 150,
                    ghostClass: 'sortable-ghost',
                    onEnd: function() {
                        updateInvoicePreview();
                    }
                });
            }
            
            // Show home section by default
            document.querySelectorAll('.section').forEach(section => {
                section.style.display = 'none';
            });
            document.getElementById('home').style.display = 'block';
            
            // Navigation
            document.querySelectorAll('nav a, .btn[data-section], .back-to-home').forEach(element => {
                element.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const sectionId = this.getAttribute('data-section') || 'home';
                    
                    // Hide all sections
                    document.querySelectorAll('.section').forEach(section => {
                        section.style.display = 'none';
                    });
                    
                    // Show selected section
                    document.getElementById(sectionId).style.display = 'block';
                    
                    // Update active nav link
                    document.querySelectorAll('nav a').forEach(link => {
                        link.classList.remove('active');
                    });
                    
                    if (sectionId !== 'home') {
                        document.querySelector(`nav a[data-section="${sectionId}"]`).classList.add('active');
                    }
                });
            });
            
            // Set today's date as default for date fields
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('start-date').value = today;
            document.getElementById('end-date').value = today;
            document.getElementById('invoice-date').value = today;
            
            // Set due date to 7 days from now
            const dueDate = new Date();
            dueDate.setDate(dueDate.getDate() + 7);
            document.getElementById('due-date').value = dueDate.toISOString().split('T')[0];
            
            // Show/hide hours field based on payment type
            document.getElementById('payment-type').addEventListener('change', function() {
                const hoursGroup = document.getElementById('hours-group');
                const rateGroup = document.getElementById('rate-group');
                hoursGroup.style.display = this.value === 'hourly' ? 'block' : 'none';
                
                // Show payment suggestions
                const suggestionBox = document.getElementById('payment-suggestion');
                const suggestionText = document.getElementById('suggestion-text');
                
                if (this.value === 'hourly') {
                    suggestionBox.style.display = 'block';
                    suggestionText.textContent = 'Billed weekly. Payment due within 5 days.';
                } else if (this.value === 'fixed') {
                    suggestionBox.style.display = 'block';
                    suggestionText.textContent = '50% upfront, 50% on delivery.';
                } else {
                    suggestionBox.style.display = 'none';
                }
                
                updateContractPreview();
            });
            
            // Use suggestion button
            document.getElementById('use-suggestion').addEventListener('click', function() {
                const suggestionText = document.getElementById('suggestion-text').textContent;
                document.getElementById('payment-terms').value = suggestionText;
                updateContractPreview();
            });
            
            // Contract form inputs event listeners
            const contractInputs = document.querySelectorAll('#contract-form input, #contract-form select, #contract-form textarea');
            contractInputs.forEach(input => {
                input.addEventListener('input', function() {
                    updateContractPreview();
                    
                    // Auto-save notification
                    if (document.getElementById('save-contract').checked) {
                        saveContractData();
                        showAutoSaveToast();
                    }
                });
            });
            
            // Invoice form inputs event listeners
            const invoiceInputs = document.querySelectorAll('#invoice-form input, #invoice-form textarea');
            invoiceInputs.forEach(input => {
                input.addEventListener('input', function() {
                    updateInvoicePreview();
                    
                    // Auto-save notification
                    if (document.getElementById('save-invoice').checked) {
                        saveInvoiceData();
                        showAutoSaveToast();
                    }
                });
            });
            
            // Set up initial previews
            updateContractPreview();
            updateInvoicePreview();
            
            // Contract actions
            document.getElementById('copy-contract').addEventListener('click', copyContract);
            document.getElementById('print-contract').addEventListener('click', printContract);
            document.getElementById('pdf-contract').addEventListener('click', generateContractPDF);
            
            // Invoice actions
            document.getElementById('download-invoice').addEventListener('click', generateInvoicePDF);
            document.getElementById('print-invoice').addEventListener('click', printInvoice);
            document.getElementById('copy-invoice').addEventListener('click', copyInvoice);
            
            // Logo upload
            document.getElementById('logo-upload').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        const img = document.createElement('img');
                        img.src = event.target.result;
                        img.style.maxHeight = '80px';
                        img.style.marginBottom = '15px';
                        img.style.border = '1px solid var(--border)';
                        img.style.padding = '5px';
                        img.style.background = 'white';
                        document.getElementById('invoice-logo').innerHTML = '';
                        document.getElementById('invoice-logo').appendChild(img);
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            // Signature uploads
            document.getElementById('freelancer-signature-upload').addEventListener('change', function(e) {
                handleSignatureUpload(e, 'freelancer');
            });
            
            document.getElementById('client-signature-upload').addEventListener('change', function(e) {
                handleSignatureUpload(e, 'client');
            });
            
            // Currency toggle
            document.querySelectorAll('.currency-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    // Remove active class from all buttons
                    this.parentElement.querySelectorAll('.currency-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    
                    // Add active class to clicked button
                    this.classList.add('active');
                    
                    // Update previews
                    updateContractPreview();
                    updateInvoicePreview();
                });
            });
            
            // Load saved data if available
            loadSavedData();
            
            // Add item button
            document.getElementById('add-item').addEventListener('click', addInvoiceItem);
            
            // Remove item event delegation
            document.getElementById('invoice-items').addEventListener('click', function(e) {
                if (e.target.classList.contains('remove-item') || e.target.closest('.remove-item')) {
                    const item = e.target.closest('.invoice-item');
                    if (item) {
                        // Store item for possible undo
                        const itemClone = item.cloneNode(true);
                        
                        // Remove item
                        item.style.transform = 'translateX(100%)';
                        item.style.opacity = '0';
                        
                        setTimeout(() => {
                            item.remove();
                            updateInvoicePreview();
                            
                            // Show undo toast
                            showUndoToast(itemClone);
                        }, 300);
                    }
                }
            });
            
            // Export/import JSON for contracts
            document.getElementById('export-contract-json').addEventListener('click', exportContractJSON);
            document.getElementById('import-contract-json').addEventListener('click', importContractJSON);
            
            // Export/import JSON for invoices
            document.getElementById('export-invoice-json').addEventListener('click', exportInvoiceJSON);
            document.getElementById('import-invoice-json').addEventListener('click', importInvoiceJSON);
            
            // JSON Drop Zones
            setupDropZone('contract-drop-zone', importContractJSON);
            setupDropZone('invoice-drop-zone', importInvoiceJSON);
            
            // Theme toggles
            document.getElementById('theme-toggle').addEventListener('click', showThemeMenu);
            document.getElementById('mode-toggle').addEventListener('click', toggleDarkMode);
            
            // Template options
            document.querySelectorAll('.template-option').forEach(option => {
                option.addEventListener('click', function() {
                    // Remove active class from all options
                    this.parentElement.querySelectorAll('.template-option').forEach(opt => {
                        opt.classList.remove('active');
                    });
                    
                    // Add active class to clicked option
                    this.classList.add('active');
                    
                    // Change theme
                    const theme = this.dataset.theme;
                    document.documentElement.className = theme + '-theme';
                    document.documentElement.style.setProperty('--theme-name', theme);
                });
            });
            
            // Client mode toggle
            document.getElementById('client-mode-toggle').addEventListener('click', function() {
                document.getElementById('contract').classList.toggle('client-mode');
                this.querySelector('span').textContent = 
                    this.closest('.module-container').classList.contains('client-mode') ? 
                    'Freelancer Mode' : 'Client Mode';
            });
            
            document.getElementById('client-mode-toggle-invoice').addEventListener('click', function() {
                document.getElementById('invoice').classList.toggle('client-mode');
                this.querySelector('span').textContent = 
                    this.closest('.module-container').classList.contains('client-mode') ? 
                    'Freelancer Mode' : 'Client Mode';
            });
            
            // Feedback button
            document.getElementById('feedback-btn').addEventListener('click', function() {
                document.getElementById('feedback-modal').style.display = 'flex';
            });
            
            document.getElementById('close-feedback').addEventListener('click', function() {
                document.getElementById('feedback-modal').style.display = 'none';
            });
            
            // Form validation
            setupFormValidation();
        });
        
        // Show auto-save toast
        function showAutoSaveToast() {
            Toastify({
                text: " Changes saved!",
                duration: 2000,
                gravity: "bottom",
                position: "right",
                backgroundColor: "var(--success)",
                stopOnFocus: true
            }).showToast();
        }
        
        // Show undo toast
        function showUndoToast(itemClone) {
            const toast = Toastify({
                text: "Item deleted. <button id='undo-delete' style='margin-left: 15px; background: #fff; color: #000; border: none; padding: 5px 10px; border-radius: 4px; cursor: pointer;'>Undo</button>",
                duration: 5000,
                gravity: "bottom",
                position: "right",
                backgroundColor: "var(--danger)",
                stopOnFocus: true,
                escapeMarkup: false
            }).showToast();
            
            document.getElementById('undo-delete').addEventListener('click', function() {
                document.getElementById('invoice-items').appendChild(itemClone);
                updateInvoicePreview();
                toast.hideToast();
            });
        }
        
        // Handle signature upload
        function handleSignatureUpload(e, type) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    const img = document.createElement('img');
                    img.src = event.target.result;
                    img.className = 'signature-image';
                    
                    const previewDiv = document.getElementById(`preview-${type}-signature`);
                    previewDiv.innerHTML = '';
                    previewDiv.appendChild(img);
                };
                reader.readAsDataURL(file);
            }
        }
        
        // Setup drop zone
        function setupDropZone(id, callback) {
            const dropZone = document.getElementById(id);
            
            dropZone.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.style.borderColor = 'var(--primary)';
                this.style.background = 'rgba(138, 112, 76, 0.1)';
            });
            
            dropZone.addEventListener('dragleave', function() {
                this.style.borderColor = 'var(--border)';
                this.style.background = '';
            });
            
            dropZone.addEventListener('drop', function(e) {
                e.preventDefault();
                this.style.borderColor = 'var(--border)';
                this.style.background = '';
                
                const file = e.dataTransfer.files[0];
                if (file && file.name.endsWith('.json')) {
                    callback(file);
                }
            });
            
            dropZone.addEventListener('click', function() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = '.json';
                input.onchange = function(e) {
                    callback(e.target.files[0]);
                };
                input.click();
            });
        }
        
        // Toggle dark mode
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const icon = document.querySelector('#mode-toggle i');
            if (document.body.classList.contains('dark-mode')) {
                icon.classList.remove('fa-moon');
                icon.classList.add('fa-sun');
                document.querySelector('#mode-toggle span').textContent = 'Light Mode';
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-moon');
                document.querySelector('#mode-toggle span').textContent = 'Dark Mode';
            }
        }
        
        // Show theme menu
        function showThemeMenu() {
            Toastify({
                text: "Select Theme: <div class='template-selector' style='margin-top:10px;'>" +
                      "<div class='template-option active' data-theme='classic'>Classic</div>" +
                      "<div class='template-option' data-theme='minimal'>Minimal</div>" +
                      "<div class='template-option' data-theme='corporate'>Corporate</div>" +
                      "<div class='template-option' data-theme='startup'>Startup</div>" +
                      "</div>",
                duration: -1,
                gravity: "bottom",
                position: "right",
                backgroundColor: "var(--primary)",
                stopOnFocus: true,
                escapeMarkup: false,
                onClick: function() {
                    // Handle theme selection inside toast
                    document.querySelectorAll('.toastify-content .template-option').forEach(option => {
                        option.addEventListener('click', function() {
                            const theme = this.dataset.theme;
                            document.documentElement.className = theme + '-theme';
                            document.documentElement.style.setProperty('--theme-name', theme);
                            Toastify.closeAll();
                        });
                    });
                }
            }).showToast();
        }
        
        // Setup form validation
        function setupFormValidation() {
            const requiredFields = document.querySelectorAll('[required]');
            requiredFields.forEach(field => {
                field.addEventListener('blur', function() {
                    const errorId = this.id + '-error';
                    const errorElement = document.getElementById(errorId);
                    if (errorElement) {
                        errorElement.style.display = this.value ? 'none' : 'block';
                    }
                });
            });
        }
        
        // Format currency with locale-specific symbols
        function formatCurrency(amount) {
            const currency = getActiveCurrency();
            const formattedAmount = parseFloat(amount).toLocaleString('en-PK', {
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            });
            
            switch(currency) {
                case 'PKR': return '' + formattedAmount;
                case 'USD': return '$' + formattedAmount;
                case 'EUR': return '' + formattedAmount;
                case 'GBP': return '' + formattedAmount;
                case 'INR': return '' + formattedAmount;
                default: return formattedAmount;
            }
        }
        
        // ... Rest of the JavaScript functions (updateContractPreview, updateInvoicePreview, etc.) ...
        // (These would be similar to the previous implementation but updated for the new features)
        
    </script>
</body>
</html>
